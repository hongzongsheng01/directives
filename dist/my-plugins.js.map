{"version":3,"sources":["webpack:///webpack/universalModuleDefinition","webpack:///webpack/bootstrap 165f3827e824c9331f0d","webpack:///my-plugins.js","webpack:///./src/lib/index.js","webpack:///./src/until/directives.js"],"names":["root","factory","exports","module","define","amd","self","this","__webpack_require__","moduleId","installedModules","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","configurable","enumerable","get","n","__esModule","object","property","prototype","hasOwnProperty","p","s","__webpack_exports__","myPlugins","install","Vue","options","keys","directives","forEach","v","directive","mixin","data","created","$myMethod","methodOptions","checkArray","key","indexOf","addWaterMarker","str","parentNode","font","textColor","can","document","createElement","appendChild","width","height","style","display","cans","getContext","rotate","Math","PI","fillStyle","textAlign","textBaseline","fillText","backgroundImage","toDataURL","emoji","bind","el","binding","vnode","trigger","type","e","createEvent","initEvent","dispatchEvent","bindVal","value","$inp","parent","tagName","toLowerCase","querySelector","handle","val","reg","RegExp","decimalNum","formateValue","replace","match","maxNum","addEventListener","unbind","removeEventListener","debounce","inserted","timer","clearTimeout","setTimeout","waterMarker","text","longpress","vNode","pressTimer","start","button","handler","cancel","componentUpdated","$value","permission","removeChild","draggable","cursor","onmousedown","disx","pageX","offsetLeft","disy","pageY","offsetTop","onmousemove","x","y","maxX","body","clientWidth","parseInt","window","getComputedStyle","maxY","clientHeight","left","top","onmouseup"],"mappings":"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","file":"my-plugins.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine(\"PayKeyboard\", [], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"PayKeyboard\"] = factory();\n\telse\n\t\troot[\"PayKeyboard\"] = factory();\n})(typeof self !== 'undefined' ? self : this, function() {\nreturn \n\n\n// WEBPACK FOOTER //\n// webpack/universalModuleDefinition"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/dist/\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 0);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap 165f3827e824c9331f0d","(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine(\"PayKeyboard\", [], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"PayKeyboard\"] = factory();\n\telse\n\t\troot[\"PayKeyboard\"] = factory();\n})(typeof self !== 'undefined' ? self : this, function() {\nreturn /******/ (function(modules) { // webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules = {};\n/******/\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId]) {\n/******/ \t\t\treturn installedModules[moduleId].exports;\n/******/ \t\t}\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = installedModules[moduleId] = {\n/******/ \t\t\ti: moduleId,\n/******/ \t\t\tl: false,\n/******/ \t\t\texports: {}\n/******/ \t\t};\n/******/\n/******/ \t\t// Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n/******/\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.l = true;\n/******/\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/\n/******/\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__webpack_require__.m = modules;\n/******/\n/******/ \t// expose the module cache\n/******/ \t__webpack_require__.c = installedModules;\n/******/\n/******/ \t// define getter function for harmony exports\n/******/ \t__webpack_require__.d = function(exports, name, getter) {\n/******/ \t\tif(!__webpack_require__.o(exports, name)) {\n/******/ \t\t\tObject.defineProperty(exports, name, {\n/******/ \t\t\t\tconfigurable: false,\n/******/ \t\t\t\tenumerable: true,\n/******/ \t\t\t\tget: getter\n/******/ \t\t\t});\n/******/ \t\t}\n/******/ \t};\n/******/\n/******/ \t// getDefaultExport function for compatibility with non-harmony modules\n/******/ \t__webpack_require__.n = function(module) {\n/******/ \t\tvar getter = module && module.__esModule ?\n/******/ \t\t\tfunction getDefault() { return module['default']; } :\n/******/ \t\t\tfunction getModuleExports() { return module; };\n/******/ \t\t__webpack_require__.d(getter, 'a', getter);\n/******/ \t\treturn getter;\n/******/ \t};\n/******/\n/******/ \t// Object.prototype.hasOwnProperty.call\n/******/ \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n/******/\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p = \"/dist/\";\n/******/\n/******/ \t// Load entry module and return exports\n/******/ \treturn __webpack_require__(__webpack_require__.s = 0);\n/******/ })\n/************************************************************************/\n/******/ ([\n/* 0 */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__until_directives__ = __webpack_require__(1);\n\n\nfunction addWaterMarker(str, parentNode, font, textColor) {\n  // 水印文字，父元素，字体，文字颜色\n  var can = document.createElement('canvas');\n  parentNode.appendChild(can);\n  can.width = 200;\n  can.height = 150;\n  can.style.display = 'none';\n  var cans = can.getContext('2d');\n  cans.rotate(-20 * Math.PI / 180);\n  cans.font = font || '16px Microsoft JhengHei';\n  cans.fillStyle = textColor || 'rgba(180, 180, 180, 0.3)';\n  cans.textAlign = 'left';\n  cans.textBaseline = 'Middle';\n  cans.fillText(str, can.width / 10, can.height / 2);\n  parentNode.style.backgroundImage = 'url(' + can.toDataURL('image/png') + ')';\n}\nvar myPlugins = {\n  install: function install(Vue, options) {\n    Object.keys(__WEBPACK_IMPORTED_MODULE_0__until_directives__[\"a\" /* default */]).forEach(function (v) {\n      Vue.directive(v, __WEBPACK_IMPORTED_MODULE_0__until_directives__[\"a\" /* default */][v]);\n    });\n\n    // 3. 注入组件选项\n    Vue.mixin({\n      data: function data() {\n        return {};\n      },\n\n      created: function created() {\n        // 逻辑...\n      }\n\n    });\n\n    // 4. 添加实例方法\n    Vue.prototype.$myMethod = function (methodOptions) {}\n    // 逻辑...\n\n    // Vue.component(vuePayKeyboard.name, vuePayKeyboard)\n    ;\n  }\n};\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (myPlugins);\n\n/***/ }),\n/* 1 */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony default export */ __webpack_exports__[\"a\"] = ({\n\n  /**\r\n   * 输入框过滤\r\n   */\n  emoji: {\n    bind: function bind(el, binding, vnode) {\n      var findEle = function findEle(parent, type) {\n        return parent.tagName.toLowerCase() === type ? parent : parent.querySelector(type);\n      };\n      var trigger = function trigger(el, type) {\n        var e = document.createEvent('HTMLEvents');\n        e.initEvent(type, true, true);\n        el.dispatchEvent(e);\n      };\n      var bindVal = binding.value;\n      var inputTag = 'input';\n      var $inp = findEle(el, inputTag);\n      el.$inp = $inp;\n      $inp.handle = function () {\n        var val = $inp.value;\n        // 小数位数限制\n        var reg = new RegExp(\"^\\\\d*(\\.?\\\\d{0,\" + bindVal.decimalNum + \"})\", \"g\");\n        var formateValue = (\"\" + val).replace(/[^\\d^\\.]+/g, \"\").replace(/^0+(\\d)/, \"$1\").replace(/^\\./, \"0.\").replace(/^\\.+(\\d)/, \"0.\").match(reg)[0] || \"\";\n        if (formateValue - 0 >= bindVal.maxNum) {\n          formateValue = bindVal.maxNum;\n        }\n        $inp.value = formateValue;\n        trigger($inp, 'input');\n      };\n      $inp.addEventListener('keyup', $inp.handle);\n    },\n    unbind: function unbind(el) {\n      el.$inp.removeEventListener('keyup', el.$inp.handle);\n    }\n  },\n\n  // 自定义点击事件，防止重复点击\n  debounce: {\n    inserted: function inserted(el, binding) {\n      var timer = void 0;\n      el.addEventListener('click', function () {\n        if (timer) {\n          clearTimeout(timer);\n        }\n        timer = setTimeout(function () {\n          binding.value();\n        }, 1000);\n      });\n    }\n  },\n\n  // 添加水印\n  waterMarker: {\n    bind: function bind(el, binding) {\n      addWaterMarker(binding.value.text, el, binding.value.font, binding.value.textColor);\n    }\n  },\n\n  /**\r\n      需求：实现长按，用户需要按下并按住按钮几秒钟，触发相应的事件\r\n      思路：\r\n      创建一个计时器， 2 秒后执行函数\r\n      当用户按下按钮时触发 mousedown 事件，启动计时器；用户松开按钮时调用 mouseout 事件。\r\n      如果 mouseup 事件 2 秒内被触发，就清除计时器，当作一个普通的点击事件\r\n      如果计时器没有在 2 秒内清除，则判定为一次长按，可以执行关联的函数。\r\n      在移动端要考虑 touchstart，touchend 事件\r\n   */\n  longpress: {\n    bind: function bind(el, binding, vNode) {\n      if (typeof binding.value !== 'function') {\n        throw 'callback must be a function';\n      }\n      // 定义变量\n      var pressTimer = null;\n      // 创建计时器（ 2秒后执行函数 ）\n      var start = function start(e) {\n        if (e.type === 'click' && e.button !== 0) {\n          return;\n        }\n        if (pressTimer === null) {\n          pressTimer = setTimeout(function () {\n            handler();\n          }, 2000);\n        }\n      };\n      // 取消计时器\n      var cancel = function cancel(e) {\n        if (pressTimer !== null) {\n          clearTimeout(pressTimer);\n          pressTimer = null;\n        }\n      };\n      // 运行函数\n      var handler = function handler(e) {\n        binding.value(e);\n      };\n      // 添加事件监听器\n      el.addEventListener('mousedown', start);\n      el.addEventListener('touchstart', start);\n      // 取消计时器\n      el.addEventListener('click', cancel);\n      el.addEventListener('mouseout', cancel);\n      el.addEventListener('touchend', cancel);\n      el.addEventListener('touchcancel', cancel);\n    },\n    // 当传进来的值更新的时候触发\n    componentUpdated: function componentUpdated(el, _ref) {\n      var value = _ref.value;\n\n      el.$value = value;\n    },\n\n    // 指令与元素解绑的时候，移除事件绑定\n    unbind: function unbind(el) {\n      el.removeEventListener('click', el.handler);\n    }\n  },\n\n  /**\r\n  背景：在一些后台管理系统，我们可能需要根据用户角色进行一些操作权限的判断，很多时候我们都是粗暴地给一个元素添加 v-if / v-show 来进行显示隐藏，但如果判断条件繁琐且多个地方需要判断，这种方式的代码不仅不优雅而且冗余。针对这种情况，我们可以通过全局自定义指令来处理。\r\n  需求：自定义一个权限指令，对需要权限判断的 Dom 进行显示隐藏。\r\n  思路：\r\n  自定义一个权限数组\r\n  判断用户的权限是否在这个数组内，如果是则显示，否则则移除 Dom\r\n   */\n\n  permission: {\n    inserted: function inserted(el, binding) {\n      var permission = binding.value; // 获取到 v-permission的值\n      if (permission) {\n        var hasPermission = checkArray(permission);\n        if (!hasPermission) {\n          // 没有权限 移除Dom元素\n          el.parentNode && el.parentNode.removeChild(el);\n        }\n      }\n    }\n  },\n\n  // 拖拽\n  draggable: {\n    inserted: function inserted(el) {\n      el.style.cursor = 'move';\n      el.onmousedown = function (e) {\n        var disx = e.pageX - el.offsetLeft;\n        var disy = e.pageY - el.offsetTop;\n        document.onmousemove = function (e) {\n          var x = e.pageX - disx;\n          var y = e.pageY - disy;\n          var maxX = document.body.clientWidth - parseInt(window.getComputedStyle(el).width);\n          var maxY = document.body.clientHeight - parseInt(window.getComputedStyle(el).height);\n          if (x < 0) {\n            x = 0;\n          } else if (x > maxX) {\n            x = maxX;\n          }\n\n          if (y < 0) {\n            y = 0;\n          } else if (y > maxY) {\n            y = maxY;\n          }\n\n          el.style.left = x + 'px';\n          el.style.top = y + 'px';\n        };\n        document.onmouseup = function () {\n          document.onmousemove = document.onmouseup = null;\n        };\n      };\n    }\n  }\n});\n\nfunction checkArray(key) {\n  var arr = ['1', '2', '3', '4'];\n  var index = arr.indexOf(key);\n  if (index > -1) {\n    return true; // 有权限\n  } else {\n      return false; // 无权限\n    }\n}\n\nfunction addWaterMarker(str, parentNode, font, textColor) {\n  // 水印文字，父元素，字体，文字颜色\n  var can = document.createElement('canvas');\n  parentNode.appendChild(can);\n  can.width = 200;\n  can.height = 150;\n  can.style.display = 'none';\n  var cans = can.getContext('2d');\n  cans.rotate(-20 * Math.PI / 180);\n  cans.font = font || '16px Microsoft JhengHei';\n  cans.fillStyle = textColor || 'rgba(180, 180, 180, 0.3)';\n  cans.textAlign = 'left';\n  cans.textBaseline = 'Middle';\n  cans.fillText(str, can.width / 10, can.height / 2);\n  parentNode.style.backgroundImage = 'url(' + can.toDataURL('image/png') + ')';\n}\n\n/***/ })\n/******/ ]);\n});\n\n\n// WEBPACK FOOTER //\n// my-plugins.js","import directives from '../until/directives'\n\nfunction addWaterMarker(str, parentNode, font, textColor) {\n  // 水印文字，父元素，字体，文字颜色\n  var can = document.createElement('canvas')\n  parentNode.appendChild(can)\n  can.width = 200\n  can.height = 150\n  can.style.display = 'none'\n  var cans = can.getContext('2d')\n  cans.rotate((-20 * Math.PI) / 180)\n  cans.font = font || '16px Microsoft JhengHei'\n  cans.fillStyle = textColor || 'rgba(180, 180, 180, 0.3)'\n  cans.textAlign = 'left'\n  cans.textBaseline = 'Middle'\n  cans.fillText(str, can.width / 10, can.height / 2)\n  parentNode.style.backgroundImage = 'url(' + can.toDataURL('image/png') + ')'\n}\nconst myPlugins = {\n  install(Vue, options) {\n    Object.keys(directives).forEach(v=>{\n        Vue.directive(v, directives[v])\n    })\n\n\n    // 3. 注入组件选项\n    Vue.mixin({\n      data() {\n        return {\n\n        }\n\n      },\n      created: function () {\n        // 逻辑...\n      },\n\n\n    })\n\n    // 4. 添加实例方法\n    Vue.prototype.$myMethod = function (methodOptions) {\n      // 逻辑...\n    }\n    // Vue.component(vuePayKeyboard.name, vuePayKeyboard)\n  }\n}\n\n\n\nexport default myPlugins\n\n\n\n// WEBPACK FOOTER //\n// ./src/lib/index.js","export default {\r\n\r\n  /**\r\n   * 输入框过滤\r\n   */\r\n  emoji: {\r\n    bind: function (el, binding, vnode) {\r\n      let findEle = (parent, type) => {\r\n        return parent.tagName.toLowerCase() === type ? parent : parent.querySelector(type)\r\n      }\r\n      const trigger = (el, type) => {\r\n        const e = document.createEvent('HTMLEvents')\r\n        e.initEvent(type, true, true)\r\n        el.dispatchEvent(e)\r\n      }\r\n      var bindVal = binding.value\r\n      let inputTag = 'input'\r\n      let $inp = findEle(el, inputTag)\r\n      el.$inp = $inp\r\n      $inp.handle = function () {\r\n        let val = $inp.value\r\n         // 小数位数限制\r\n        const reg = new RegExp(\"^\\\\d*(\\.?\\\\d{0,\"+bindVal.decimalNum+\"})\",\"g\")\r\n        let formateValue = (\"\" + val)\r\n          .replace(/[^\\d^\\.]+/g, \"\") \r\n          .replace(/^0+(\\d)/, \"$1\") \r\n          .replace(/^\\./, \"0.\")\r\n          .replace(/^\\.+(\\d)/, \"0.\")\r\n          .match(reg)[0] || \"\";\r\n          if(formateValue-0>=bindVal.maxNum){\r\n            formateValue = bindVal.maxNum\r\n          }\r\n        $inp.value = formateValue\r\n        trigger($inp, 'input')\r\n      }\r\n      $inp.addEventListener('keyup', $inp.handle)\r\n    },\r\n    unbind: function (el) {\r\n      el.$inp.removeEventListener('keyup', el.$inp.handle)\r\n    },\r\n  },\r\n\r\n\r\n  // 自定义点击事件，防止重复点击\r\n  debounce: {\r\n    inserted: function (el, binding) {\r\n      let timer\r\n      el.addEventListener('click', () => {\r\n        if (timer) {\r\n          clearTimeout(timer)\r\n        }\r\n        timer = setTimeout(() => {\r\n          binding.value()\r\n        }, 1000)\r\n      })\r\n    },\r\n  },\r\n\r\n  // 添加水印\r\n  waterMarker: {\r\n    bind: function (el, binding) {\r\n      addWaterMarker(binding.value.text, el, binding.value.font, binding.value.textColor)\r\n    },\r\n  },\r\n\r\n  /**\r\n      需求：实现长按，用户需要按下并按住按钮几秒钟，触发相应的事件\r\n      思路：\r\n      创建一个计时器， 2 秒后执行函数\r\n      当用户按下按钮时触发 mousedown 事件，启动计时器；用户松开按钮时调用 mouseout 事件。\r\n      如果 mouseup 事件 2 秒内被触发，就清除计时器，当作一个普通的点击事件\r\n      如果计时器没有在 2 秒内清除，则判定为一次长按，可以执行关联的函数。\r\n      在移动端要考虑 touchstart，touchend 事件\r\n   */\r\n  longpress: {\r\n    bind: function (el, binding, vNode) {\r\n      if (typeof binding.value !== 'function') {\r\n        throw 'callback must be a function'\r\n      }\r\n      // 定义变量\r\n      let pressTimer = null\r\n      // 创建计时器（ 2秒后执行函数 ）\r\n      let start = (e) => {\r\n        if (e.type === 'click' && e.button !== 0) {\r\n          return\r\n        }\r\n        if (pressTimer === null) {\r\n          pressTimer = setTimeout(() => {\r\n            handler()\r\n          }, 2000)\r\n        }\r\n      }\r\n      // 取消计时器\r\n      let cancel = (e) => {\r\n        if (pressTimer !== null) {\r\n          clearTimeout(pressTimer)\r\n          pressTimer = null\r\n        }\r\n      }\r\n      // 运行函数\r\n      const handler = (e) => {\r\n        binding.value(e)\r\n      }\r\n      // 添加事件监听器\r\n      el.addEventListener('mousedown', start)\r\n      el.addEventListener('touchstart', start)\r\n      // 取消计时器\r\n      el.addEventListener('click', cancel)\r\n      el.addEventListener('mouseout', cancel)\r\n      el.addEventListener('touchend', cancel)\r\n      el.addEventListener('touchcancel', cancel) \r\n    },\r\n    // 当传进来的值更新的时候触发\r\n    componentUpdated(el, {\r\n      value\r\n    }) {\r\n      el.$value = value\r\n    },\r\n    // 指令与元素解绑的时候，移除事件绑定\r\n    unbind(el) {\r\n      el.removeEventListener('click', el.handler)\r\n    },\r\n  },\r\n\r\n\r\n\r\n\r\n\r\n\r\n  /**\r\n  背景：在一些后台管理系统，我们可能需要根据用户角色进行一些操作权限的判断，很多时候我们都是粗暴地给一个元素添加 v-if / v-show 来进行显示隐藏，但如果判断条件繁琐且多个地方需要判断，这种方式的代码不仅不优雅而且冗余。针对这种情况，我们可以通过全局自定义指令来处理。\r\n  需求：自定义一个权限指令，对需要权限判断的 Dom 进行显示隐藏。\r\n  思路：\r\n  自定义一个权限数组\r\n  判断用户的权限是否在这个数组内，如果是则显示，否则则移除 Dom\r\n   */\r\n\r\n  permission: {\r\n    inserted: function (el, binding) {\r\n      let permission = binding.value // 获取到 v-permission的值\r\n      if (permission) {\r\n        let hasPermission = checkArray(permission)\r\n        if (!hasPermission) {\r\n          // 没有权限 移除Dom元素\r\n          el.parentNode && el.parentNode.removeChild(el)\r\n        }\r\n      }\r\n    },\r\n  },\r\n\r\n\r\n\r\n  // 拖拽\r\n  draggable: {\r\n    inserted: function (el) {\r\n      el.style.cursor = 'move'\r\n      el.onmousedown = function (e) {\r\n        let disx = e.pageX - el.offsetLeft\r\n        let disy = e.pageY - el.offsetTop\r\n        document.onmousemove = function (e) {\r\n          let x = e.pageX - disx\r\n          let y = e.pageY - disy\r\n          let maxX = document.body.clientWidth - parseInt(window.getComputedStyle(el).width)\r\n          let maxY = document.body.clientHeight - parseInt(window.getComputedStyle(el).height)\r\n          if (x < 0) {\r\n            x = 0\r\n          } else if (x > maxX) {\r\n            x = maxX\r\n          }\r\n\r\n          if (y < 0) {\r\n            y = 0\r\n          } else if (y > maxY) {\r\n            y = maxY\r\n          }\r\n\r\n          el.style.left = x + 'px'\r\n          el.style.top = y + 'px'\r\n        }\r\n        document.onmouseup = function () {\r\n          document.onmousemove = document.onmouseup = null\r\n        }\r\n      }\r\n    },\r\n  },\r\n}\r\n\r\nfunction checkArray(key) {\r\n  let arr = ['1', '2', '3', '4']\r\n  let index = arr.indexOf(key)\r\n  if (index > -1) {\r\n    return true // 有权限\r\n  } else {\r\n    return false // 无权限\r\n  }\r\n}\r\n\r\n\r\nfunction addWaterMarker(str, parentNode, font, textColor) {\r\n  // 水印文字，父元素，字体，文字颜色\r\n  var can = document.createElement('canvas')\r\n  parentNode.appendChild(can)\r\n  can.width = 200\r\n  can.height = 150\r\n  can.style.display = 'none'\r\n  var cans = can.getContext('2d')\r\n  cans.rotate((-20 * Math.PI) / 180)\r\n  cans.font = font || '16px Microsoft JhengHei'\r\n  cans.fillStyle = textColor || 'rgba(180, 180, 180, 0.3)'\r\n  cans.textAlign = 'left'\r\n  cans.textBaseline = 'Middle'\r\n  cans.fillText(str, can.width / 10, can.height / 2)\r\n  parentNode.style.backgroundImage = 'url(' + can.toDataURL('image/png') + ')'\r\n\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/until/directives.js"],"sourceRoot":""}